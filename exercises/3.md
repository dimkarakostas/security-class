# 3η άσκηση

Επιμέλεια: [Δημήτρης Καρακώστας](https://dimkarakostas.com)

Σκοπός της άσκησης είναι να εξοικειωθείς με την ασφάλεια web εφαρμογών. Όταν την
έχεις ολοκληρώσει θα είσαι σε θέση να δοκιμάσεις τους βασικούς τύπους επιθέσεων
εναντίον μιας πλήρους web εφαρμογής σε ασφαλές τοπικό περιβάλλον.

## Γενικά

Για τις ανάγκες της άσκησης θα χρησιμοποιήσουμε το [Damn Vulnerable Web
Application (DVWA)](http://www.dvwa.co.uk/). Το DVWA είναι μια εφαρμογή με
σημαντικά κενά ασφάλειας, σχεδιασμένη ώστε να μπορούν να δοκιμαστούν επιθέσεις
σε ένα ασφαλές, νόμιμο περιβάλλον. Με αυτό τον τρόπο οποιοσδήποτε μπορεί να
μελετήσει και να κατανοήσει βασικές έννοιες ασφάλειας web εφαρμογών, καθώς και
να εξασκηθεί με εργαλεία τα οποία υλοποιούν πολλούς τύπους επιθέσεων.

Στις επόμενες ενότητες θα στήσουμε ένα virtual environment και θα εγκαταστήσουμε
εκεί το DVWA. Συγκεκριμένα θα δημιουργήσουμε ένα Ubuntu 16.04.1 virtual machine.
Είναι σημαντικό να γίνουν όλες οι επιθέσεις και τα πειράματα σε αυτό το
περιβάλλον, ώστε να αποφευχθεί ο κίνδυνος σοβαρών προβλημάτων στο λειτουργικό
σύστημα του υπολογιστή.

## Εγκατάσταση

### Virtual machine

Για να δημιουργήσεις ένα virtual machine θα πρέπει καταρχάς να κατεβάσεις το
λειτουργικό σύστημα σε μορφή image. Μπορείς να κατεβάσεις το Ubuntu 16.04.1 από
[εδώ](http://releases.ubuntu.com/16.04/), επιλέγοντας 64-bit ή 32-bit
αρχιτεκτονική ανάλογα με τον υπολογιστή σου.

Στη συνέχεια θα πρέπει να έχεις εγκατεστημένο ένα πρόγραμμα διαχείρισης virtual
machines. Τέτοια προγράμματα είναι το [VirtualBox](https://www.virtualbox.org/),
το [VMware Workstation](http://www.vmware.com/), το [Gnome
Boxes](https://wiki.gnome.org/action/show/Apps/Boxes?action=show&redirect=Boxes),
το [QEMU](http://wiki.qemu.org/Main_Page) κ.ά.

Από τη στιγμή που εγκαταστήσεις το πρόγραμμα της επιλογής σου, η δημιουργία ενός
virtual machine από το Ubuntu iso που κατέβασες είναι πολύ απλή διαδικασία. Το
documentation για κάθε ένα από τα παραπάνω προγράμματα περιέχει εκτενείς οδηγίες
για να δημιουργήσεις ένα εικονικό μηχάνημα και να φορτώσεις το iso για πρώτη
φορά (πχ για το VirtualBox
[εδώ](https://www.virtualbox.org/manual/ch01.html#gui-createvm)). Ακολούθησε τα
βήματα που περιγράφονται και προχώρησε στην εγκατάσταση του λειτουργικού όπως
ακριβώς θα έκανες σε ένα φυσικό σύστημα. Στο τέλος θα μπορείς να δεις το γραφικό
περιβάλλον του Ubuntu που μόλις δημιούργησες μέσα στο παράθυρο του προγράμματος
διαχείρισης.

Κάνε τα απαραίτητα updates με την παρακάτω εντολή για να ολοκληρώσεις το αρχικό
στήσιμο του συστήματος:

    sudo apt-get update && sudo apt-get upgrade

Για την εκτέλεση του DVWA θα πρέπει να εγκαταστήσεις στο φρέσκο εικονικό σου
σύστημα κάποια προγράμματα. Αυτά περιλαμβάνουν έναν web server, συγκεκριμένα θα
χρησιμοποιήσουμε τον [Apache](https://httpd.apache.org/), ένα πρόγραμμα
διαχείρισης βάσεων δεδομένων, συγκεκριμένα [MySQL](https://www.mysql.com/), και
τη γλώσσα προγραμματισμού [PHP](http://php.net/).

Για τα δύο πρώτα αρκεί να τρέξεις τις παρακάτω εντολές:

    sudo apt-get update
    sudo apt-get install apache2
    sudo apt-get install mysql-server

Κατά τη διάρκεια της εγκατάστασης της MySQL θα σου ζητηθεί να ορίσεις το
password για το λογαριασμό administrator. Με αυτό τον κωδικό θα μπορέσεις στη
συνέχεια να δημιουργήσεις και να διαχειριστείς τις βάσεις δεδομένων.

Για την PHP είναι ελαφρώς διαφορετική η διαδικασία. Το DVWA χρειάζεται PHP 5.6
ώστε να τρέξει σωστά. Ωστόσο αυτή η έκδοση της PHP θεωρείται ξεπερασμένη, καθώς
έχει πολλά κενά ασφάλειας, συνεπώς το Ubuntu 16.04.1 υποστηρίζει την έκδοση 7.0.
Για αυτό το λόγο θα πρέπει να προσθέσεις το συγκεκριμένο repository το οποίο
περιέχει την PHP 5.6 και να την εγκαταστήσεις στη συνέχεια. Για να το κάνεις
αυτό αρκεί να εκτελέσεις τις εντολές:

    sudo add-apt-repository ppa:ondrej/php
    sudo apt-get update && sudo apt-get upgrade
    sudo apt-get install php5.6
    sudo apt-get install php5.6-{mbstring,mcrypt,mysql,xml}

Πλέον το εικονικό σου σύστημα είναι έτοιμο ώστε να δεχθεί το DVWA.
